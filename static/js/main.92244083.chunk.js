(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{279:function(e,t,n){e.exports=n(528)},356:function(e,t,n){},524:function(e,t,n){},528:function(e,t,n){"use strict";n.r(t);var a,r,o=n(1),c=n.n(o),i=n(7),l=n.n(i),s=n(251),u=n(252),d=n(277),m=n(253),f=n(276),E=n(37),p=n(43),T=n(148);!function(e){e.ADD_TODO="ADD_TODO",e.UPDATE_TODO="UPDATE_TODO",e.DELETE_TODO="DELETE_TODO",e.CHANGE_ACTIVE_FILTER="CHANGE_ACTIVE_FILTER",e.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",e.SEARCH_TERM_CHANGED="SEARCH_TERM_CHANGED",e.SORT_TODOS="SORT_TODOS"}(a||(a={})),function(e){e[e.All=0]="All",e[e.Active=1]="Active",e[e.Completed=2]="Completed",e[e["In Progress"]=3]="In Progress",e[e.Paused=4]="Paused"}(r||(r={}));var g={todos:JSON.parse(localStorage.getItem("todos")||"[]"),filters:Object.values(r).filter(function(e){return"number"===typeof e}),activeFilter:r.All,searchTerm:""},O=function(e){return{type:a.UPDATE_TODO,payload:e}},b=function(e){return{type:a.CHANGE_ACTIVE_FILTER,payload:e}},_=function(e){return{type:a.UPDATE_SEARCH_TERM,payload:e}},y=n(185),v=n(33),A=n.n(v),h=function(e){return e.todos.activeFilter},x=function(e){return e.todos.filters},j=Object(y.a)(function(e){return e.todos.todos},h,function(e,t){return e.filter(function(e){return!!e.status&&(e.status===t||t===r.All)})}),D=function(e){return A()(e).format("HH:mm:ss")},C=Object(y.a)(j,function(e){return e.todos.searchTerm},function(e,t){return t.length?e.filter(function(e){return e.text.toLowerCase().match(t.toLowerCase())}):e}),w=n(113),S=n(533),I=n(11),k=n(106),R=n(107),N=n(144),P=n(63);function H(){var e=Object(k.a)(["\n  display: flex !important;\n  width: 100%;\n  @media screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n"]);return H=function(){return e},e}function F(){var e=Object(k.a)(["\n  flex: 1;\n  text-align: center;\n"]);return F=function(){return e},e}var L=Object(R.a)(N.a.Button)(F()),G=Object(R.a)(N.a.Group)(H()),M={changeActiveFilter:b},B=Object(E.b)(function(e){return{activeFilter:h(e),filters:x(e)}},M)(function(e){var t=e.activeFilter,n=e.filters,a=e.changeActiveFilter,c=Object(P.b)(),i=c.t,l=(c.i18n,n.map(function(e){return o.createElement(L,{key:e,value:e},i("todo",{returnObjects:!0}).statuses[r[e]])}));return o.createElement(G,{size:"large",value:t,onChange:function(e){return a(e.target.value)},buttonStyle:"solid"},l)}),U=n(112),V=w.a.Option,z={changeActiveFilter:b,updateSearchTerm:_,searchTermChange:function(e){return{type:a.SEARCH_TERM_CHANGED,payload:e}}},J=Object(E.b)(function(e){return{activeFilter:h(e),filters:x(e)}},z)(function(e){var t=e.searchTermChange;return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{defaultValue:"ua",style:{width:120},onChange:function(e){return U.a.changeLanguage(e)}},c.a.createElement(V,{value:"ua"},"Ukr"),c.a.createElement(V,{value:"en"},"Eng"),c.a.createElement(V,{value:"de",disabled:!0},"Deu"),c.a.createElement(V,{value:"ru",disabled:!0},"Rus")),c.a.createElement(S.a,{className:"my-3",onChange:function(e){return t(e.target.value)},prefix:c.a.createElement(I.a,{type:"search"}),size:"large",type:"text"}),c.a.createElement(B,null))}),q=n(535),W=n(531),K=n(530),Q=(n(356),n(111)),X=n.n(Q),Y={deleteTodo:function(e){return{type:a.DELETE_TODO,payload:e}},updateTodo:O,sortTodos:function(e){return{type:a.SORT_TODOS,payload:e}}},Z=Object(E.b)(function(e){return{todos:C(e)}},Y)(function(e){var t=e.todos,n=e.deleteTodo,a=e.updateTodo,c=e.sortTodos,i=Object(P.b)(),l=i.t;i.i18n;o.useEffect(function(){var e=function(e){return e.status===r["In Progress"]},n=setInterval(function(){return t.filter(e).map(function(e){e.timeTillEnd&&a({id:e.id,timeTillEnd:e.timeTillEnd-1e3<0?0:e.timeTillEnd-1e3})})},1e3);return function(){return clearInterval(n)}});var s=[{align:"center",title:l("todo",{returnObjects:!0}).text,dataIndex:"text",key:"text",sorter:function(e,t){return e.text.length-t.text.length},render:function(e){return o.createElement("span",{className:"todo__item__text"},e)}},{align:"center",title:l("todo",{returnObjects:!0}).status,dataIndex:"status",key:"status",render:function(e){return o.createElement("span",{className:"todo__item__status"},l(r[e]))}},{align:"center",title:l("todo",{returnObjects:!0}).createdAt,dataIndex:"createdAt",key:"createdAt",sorter:function(e,t){return e.createdAt>t.createdAt?1:-1},render:function(e){return o.createElement("span",null,new Date(e).toLocaleDateString())}},{align:"center",title:l("todo",{returnObjects:!0}).tags,dataIndex:"tags",key:"tags",render:function(e){return o.createElement("span",null,e.length>0?e.map(function(e){return o.createElement(q.a,{color:"blue",key:e},"#",e)}):"-")}},{align:"center",title:l("todo",{returnObjects:!0}).estimatedTime,dataIndex:"estimatedTime",key:"estimatedTime",render:function(e){return o.createElement("span",null,e>0?D(e):"-")}},{align:"center",title:l("todo",{returnObjects:!0}).left,dataIndex:"timeTillEnd",key:"timeTillEnd",render:function(e){return o.createElement("span",null,e>0?D(e):"-")}},{align:"center",title:l("todo",{returnObjects:!0}).actions,key:"actions",render:function(e){return o.createElement("span",{className:"todo__item__icons"},o.createElement(I.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r["In Progress"]?r.Paused:r["In Progress"]})},type:e.status===r["In Progress"]?"pause":"caret-right"}),o.createElement(I.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r.Completed?r.Active:r.Completed})},type:e.status===r.Completed?"close-circle":"check-circle"}),o.createElement(I.a,{className:"todo__item__icon todo__item__icon--delete",onClick:function(){return n(e.id)},type:"delete"}))}}];return o.createElement(o.Fragment,null,o.createElement(W.a,{layout:"inline"},o.createElement(X.a,{label:l("sortBy")},o.createElement(N.a.Group,{size:"default",onChange:function(e){return c(e.target.value)}},o.createElement(N.a.Button,{value:"createdAt"},l("date")),o.createElement(N.a.Button,{value:"text"},l("text")),o.createElement(N.a.Button,{value:"estimatedTime"},l("estimatedTime"))))),o.createElement(K.a,{rowClassName:function(e){return e.status===r.Completed?"todo__item--completed":""},columns:s,dataSource:t,pagination:!1}))}),$=n(532),ee=n(66),te=n(92),ne=n(93);function ae(){var e=Object(k.a)(["\n  display: flex !important;\n  margin: 0 -10px !important;\n  flex-wrap: wrap;\n  width: calc(100% + 20px) !important;\n"]);return ae=function(){return e},e}var re=Object(R.a)(S.a.Group)(ae()),oe=te.object().shape({text:te.string().required(),tags:te.array(te.string().min(3)),estimatedTime:te.number().min(0)}),ce=Object(E.b)(function(){return{}},{addTodo:function(e){return{type:a.ADD_TODO,payload:Object(p.a)({id:Math.random(),createdAt:new Date(Date.now()),status:r.Active,timeTillEnd:e.estimatedTime},e)}}})(function(e){var t=e.addTodo,n=Object(P.b)(),a=n.t;n.i18n;return o.createElement(ne.d,{initialValues:{text:"",tags:[],estimatedTime:0},validationSchema:oe,onSubmit:function(e,n){var a=n.resetForm;t(e),a()},render:function(e){var t,n=e.values,r=e.errors,c=(e.status,e.touched);return o.createElement(ne.c,{className:"my-3"},o.createElement($.a,{className:"my-2",size:"large",style:{width:"150px"},placeholder:a("selectTime"),onChange:function(e){n.estimatedTime=e.toDate().getTime()},defaultOpenValue:A()("00:00:00","HH:mm:ss")}),o.createElement(ne.a,{type:"text",name:"text",render:function(e){var t=e.field;return o.createElement(X.a,{validateStatus:c.text&&r.text?"error":void 0,help:c.text&&r.text},o.createElement(S.a,Object.assign({},t,{prefix:o.createElement(I.a,{type:"plus"}),size:"large",type:"text"})))}}),o.createElement(ne.b,{name:"tags",render:function(e){return o.createElement(o.Fragment,null,o.createElement(re,null,n.tags.length>0&&n.tags.map(function(t,n){return o.createElement(ne.a,{key:n,name:"tags.".concat(n),render:function(t){var a=t.field;return o.createElement(X.a,{style:{width:"20%",padding:"10px"},validateStatus:c.tags&&c.tags[n]&&r.tags&&r.tags[n]?"error":void 0,help:c.tags&&c.tags[n]&&r.tags&&r.tags[n]},o.createElement(S.a,Object.assign({suffix:o.createElement(I.a,{type:"minus",onClick:function(){return e.remove(n)}})},a,{size:"large",type:"text",className:"todo-input"})))}})})),o.createElement(ee.a,{className:"todo__item__button--small",onClick:function(){return e.push("")}},a("addTag")))}}),o.createElement(ee.a,{style:{width:"100%"},htmlType:"submit",disabled:(t=r,Object.keys(t).length>0),size:"large"},a("addToDo")))}})}),ie=(n(524),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"todo-page"},o.createElement(J,null),o.createElement(Z,null),o.createElement(ce,null))}}]),t}(o.Component)),le=n(534),se=(n(525),Object(E.b)(function(e){return{todos:e.todos.todos}})(function(e){var t=e.todos;return Object(o.useEffect)(function(){var e=function(){return window.localStorage.setItem("todos",JSON.stringify(t))};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),c.a.createElement(le.a,null,c.a.createElement(le.a.Content,{style:{padding:"50px 0",minHeight:"calc(100vh - 69px)",background:"#fff"}},c.a.createElement(ie,null)),c.a.createElement(le.a.Footer,{style:{textAlign:"center"}},"ToDo App \xa92019 Created by Max Chykalo"))})),ue=n(60),de=n(275),me=Object(ue.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_TODO:return Object(p.a)({},e,{todos:[].concat(Object(T.a)(e.todos),[Object(p.a)({},t.payload)])});case a.DELETE_TODO:return Object(p.a)({},e,{todos:e.todos.filter(function(e){return e.id!==t.payload})});case a.UPDATE_TODO:var n=e.todos.map(function(e){return e.id===t.payload.id&&(e=Object(p.a)({},e,t.payload)),e});return Object(p.a)({},e,{todos:Object(T.a)(n)});case a.CHANGE_ACTIVE_FILTER:return Object(p.a)({},e,{activeFilter:t.payload});case a.UPDATE_SEARCH_TERM:return Object(p.a)({},e,{searchTerm:t.payload});case a.SORT_TODOS:return Object(p.a)({},e,{todos:Object(T.a)(e.todos).sort(function(e,n){return e[t.payload]>n[t.payload]?1:-1})});default:return e}}}),fe=n(274),Ee=n(55),pe=n.n(Ee),Te=n(115),ge=pe.a.mark(_e),Oe=pe.a.mark(ye),be=pe.a.mark(ve);function _e(e){return pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Te.c)(_(e.payload));case 2:case"end":return t.stop()}},ge)}function ye(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.b)(500,a.SEARCH_TERM_CHANGED,_e);case 2:case"end":return e.stop()}},Oe)}function ve(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.a)([ye()]);case 2:case"end":return e.stop()}},be)}var Ae=Object(de.a)(),he=Object(ue.createStore)(me,Object(fe.composeWithDevTools)(Object(ue.applyMiddleware)(Ae)));Ae.run(ve);U.a.use(P.a).init({resources:{en:{translation:{sortBy:"Sort By",date:"Date",text:"Text",estimatedTime:"Estimated Time",addTag:"Add Tag",addToDo:"Add ToDo",selectTime:"Chose Time",todo:{text:"Text",status:"Status",createdAt:"Created At",tags:"Tags",estimatedTime:"Estimated Time",left:"Left",actions:"Actions",statuses:{All:"All",Active:"Active",Completed:"Completed","In Progress":"In Progress",Paused:"In Pause"}}}},ua:{translation:{sortBy:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e",date:"\u0414\u0430\u0442\u0456",text:"\u0422\u0435\u043a\u0441\u0442\u0443",estimatedTime:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0443",addTag:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0435\u0433",addToDo:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",selectTime:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0447\u0430\u0441",todo:{text:"\u0422\u0435\u043a\u0441\u0442",status:"\u0421\u0442\u0430\u0442\u0443\u0441",createdAt:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0432",tags:"\u0422\u0435\u0433\u0438",estimatedTime:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",left:"\u0417\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c",actions:"\u0414\u0456\u0457",statuses:{All:"\u0412\u0441\u0456",Active:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456",Completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0456","In Progress":"\u0412 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0456",Paused:"\u041d\u0430 \u043f\u0430\u0443\u0437\u0456"}}}}},lng:"ua",keySeparator:!1,interpolation:{escapeValue:!1}});U.a;l.a.render(c.a.createElement(E.a,{store:he},c.a.createElement(se,null)),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.92244083.chunk.js.map