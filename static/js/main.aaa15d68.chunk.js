(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{279:function(e,t,n){e.exports=n(528)},356:function(e,t,n){},524:function(e,t,n){},528:function(e,t,n){"use strict";n.r(t);var a,r,o=n(1),c=n.n(o),i=n(7),s=n.n(i),u=n(251),l=n(252),d=n(277),m=n(253),f=n(276),E=n(38),p=n(32);!function(e){e.ADD_TODO="ADD_TODO",e.UPDATE_TODO="UPDATE_TODO",e.DELETE_TODO="DELETE_TODO",e.CHANGE_ACTIVE_FILTER="CHANGE_ACTIVE_FILTER",e.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",e.SEARCH_TERM_CHANGED="SEARCH_TERM_CHANGED",e.SORT_TODOS="SORT_TODOS",e.TIME_TILL_END_TICK="TIME_TILL_END_TICK"}(a||(a={})),function(e){e[e.All=0]="All",e[e.Active=1]="Active",e[e.Completed=2]="Completed",e[e["In Progress"]=3]="In Progress",e[e.Paused=4]="Paused"}(r||(r={}));var T=function(e){return{type:a.CHANGE_ACTIVE_FILTER,payload:e}},g=function(e){return{type:a.UPDATE_SEARCH_TERM,payload:e}},O=function(){return{type:a.TIME_TILL_END_TICK}},_=n(184),b=n(34),y=n.n(b),v=function(e){return e.todos.activeFilter},A=function(e){return e.todos.filters},x=Object(_.a)(function(e){return e.todos.todos},v,function(e,t){return e.filter(function(e){return!!e.status&&(e.status===t||t===r.All)})}),h=function(e){return y()(e).utcOffset(0).format("HH:mm:ss")},j=Object(_.a)(x,function(e){return e.todos.searchTerm},function(e,t){return t.length?e.filter(function(e){return e.text.toLowerCase().match(t.toLowerCase())}):e}),D=n(114),C=n(532),I=n(11),w=n(107),S=n(108),k=n(144),N=n(63);function R(){var e=Object(w.a)(["\n  display: flex !important;\n  width: 100%;\n  @media screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n"]);return R=function(){return e},e}function L(){var e=Object(w.a)(["\n  flex: 1;\n  text-align: center;\n"]);return L=function(){return e},e}var P=Object(S.a)(k.a.Button)(L()),H=Object(S.a)(k.a.Group)(R()),F={changeActiveFilter:T},M=Object(E.b)(function(e){return{activeFilter:v(e),filters:A(e)}},F)(function(e){var t=e.activeFilter,n=e.filters,a=e.changeActiveFilter,c=Object(N.b)(),i=c.t,s=(c.i18n,n.map(function(e){return o.createElement(P,{key:e,value:e},i("todo",{returnObjects:!0}).statuses[r[e]])}));return o.createElement(H,{size:"large",value:t,onChange:function(e){return a(e.target.value)},buttonStyle:"solid"},s)}),G=n(113),B=D.a.Option,U={changeActiveFilter:T,updateSearchTerm:g,searchTermChange:function(e){return{type:a.SEARCH_TERM_CHANGED,payload:e}}},V=Object(E.b)(function(e){return{activeFilter:v(e),filters:A(e)}},U)(function(e){var t=e.searchTermChange;return c.a.createElement(c.a.Fragment,null,c.a.createElement(D.a,{defaultValue:"ua",style:{width:120},onChange:function(e){return G.a.changeLanguage(e)}},c.a.createElement(B,{value:"ua"},"Ukr"),c.a.createElement(B,{value:"en"},"Eng"),c.a.createElement(B,{value:"de",disabled:!0},"Deu"),c.a.createElement(B,{value:"ru",disabled:!0},"Rus")),c.a.createElement(C.a,{className:"my-3",onChange:function(e){return t(e.target.value)},prefix:c.a.createElement(I.a,{type:"search"}),size:"large",type:"text"}),c.a.createElement(M,null))}),z=n(535),J=n(531),K=n(530),q=(n(356),n(112)),W=n.n(q),Q={deleteTodo:function(e){return{type:a.DELETE_TODO,payload:e}},updateTodo:function(e){return{type:a.UPDATE_TODO,payload:e}},sortTodos:function(e){return{type:a.SORT_TODOS,payload:e}}},X=Object(E.b)(function(e){return{todos:j(e)}},Q)(function(e){var t=e.todos,n=e.deleteTodo,a=e.updateTodo,c=e.sortTodos,i=Object(N.b)(),s=i.t,u=(i.i18n,[{align:"center",title:s("todo",{returnObjects:!0}).text,dataIndex:"text",key:"text",sorter:function(e,t){return e.text.length-t.text.length},render:function(e){return o.createElement("span",{className:"todo__item__text"},e)}},{align:"center",title:s("todo",{returnObjects:!0}).status,dataIndex:"status",key:"status",render:function(e){return o.createElement("span",{className:"todo__item__status"},s(r[e]))}},{align:"center",title:s("todo",{returnObjects:!0}).createdAt,dataIndex:"createdAt",key:"createdAt",sorter:function(e,t){return e.createdAt>t.createdAt?1:-1},render:function(e){return o.createElement("span",null,new Date(e).toLocaleDateString())}},{align:"center",title:s("todo",{returnObjects:!0}).tags,dataIndex:"tags",key:"tags",render:function(e){return o.createElement("span",null,e.length>0?e.map(function(e){return o.createElement(z.a,{color:"blue",key:e},"#",e)}):"-")}},{align:"center",title:s("todo",{returnObjects:!0}).estimatedTime,dataIndex:"estimatedTime",key:"estimatedTime",render:function(e){return o.createElement("span",null,h(e))}},{align:"center",title:s("todo",{returnObjects:!0}).left,dataIndex:"timeTillEnd",key:"timeTillEnd",render:function(e,t){return o.createElement("span",null,h(e))}},{align:"center",title:s("todo",{returnObjects:!0}).actions,key:"actions",render:function(e){return o.createElement("span",{className:"todo__item__icons"},o.createElement(I.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r["In Progress"]?r.Paused:r["In Progress"]})},type:e.status===r["In Progress"]?"pause":"caret-right"}),o.createElement(I.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r.Completed?r.Active:r.Completed})},type:e.status===r.Completed?"close-circle":"check-circle"}),o.createElement(I.a,{className:"todo__item__icon todo__item__icon--delete",onClick:function(){return n(e.id)},type:"delete"}))}}]);return o.createElement(o.Fragment,null,o.createElement(J.a,{layout:"inline"},o.createElement(W.a,{label:s("sortBy")},o.createElement(k.a.Group,{size:"default",onChange:function(e){return c(e.target.value)}},o.createElement(k.a.Button,{value:"createdAt"},s("date")),o.createElement(k.a.Button,{value:"text"},s("text")),o.createElement(k.a.Button,{value:"estimatedTime"},s("estimatedTime"))))),o.createElement(K.a,{rowClassName:function(e){return e.status===r.Completed?"todo__item--completed":""},columns:u,dataSource:t,pagination:!1}))}),Y=n(533),Z=n(66),$=n(92),ee=n(93),te=1e3,ne=function(e){return function(e){return e.status===r["In Progress"]}(e)?function(e){return e.timeTillEnd?Object(p.a)({},e,{timeTillEnd:e.timeTillEnd>te?e.timeTillEnd-te:0}):e}(e):e},ae=function(e){return 1e3*e.seconds()+60*e.minutes()*1e3+60*e.hours()*60*1e3};function re(){var e=Object(w.a)(["\n  display: flex !important;\n  margin: 0 -10px !important;\n  flex-wrap: wrap;\n  width: calc(100% + 20px) !important;\n"]);return re=function(){return e},e}var oe=Object(S.a)(C.a.Group)(re()),ce=$.object().shape({text:$.string().required(),tags:$.array($.string().min(3)),estimatedTime:$.number().min(0)}),ie=Object(E.b)(function(){return{}},{addTodo:function(e){return{type:a.ADD_TODO,payload:Object(p.a)({id:Math.random(),createdAt:new Date(Date.now()),status:r.Active,timeTillEnd:e.estimatedTime},e)}}})(function(e){var t=e.addTodo,n=Object(N.b)(),a=n.t;n.i18n;return o.createElement(ee.d,{initialValues:{text:"",tags:[],estimatedTime:0},validationSchema:ce,onSubmit:function(e,n){var a=n.resetForm;t(e),a()},render:function(e){var t,n=e.values,r=e.errors,c=(e.status,e.touched);return o.createElement(ee.c,{className:"my-3"},o.createElement(Y.a,{className:"my-2",size:"large",style:{width:"150px"},placeholder:a("selectTime"),onChange:function(e){n.estimatedTime=ae(e)},defaultOpenValue:y()("00:00:00","HH:mm:ss")}),o.createElement(ee.a,{type:"text",name:"text",render:function(e){var t=e.field;return o.createElement(W.a,{validateStatus:c.text&&r.text?"error":void 0,help:c.text&&r.text},o.createElement(C.a,Object.assign({},t,{prefix:o.createElement(I.a,{type:"plus"}),size:"large",type:"text"})))}}),o.createElement(ee.b,{name:"tags",render:function(e){return o.createElement(o.Fragment,null,o.createElement(oe,null,n.tags.length>0&&n.tags.map(function(t,n){return o.createElement(ee.a,{key:n,name:"tags.".concat(n),render:function(t){var a=t.field;return o.createElement(W.a,{style:{width:"20%",padding:"10px"},validateStatus:c.tags&&c.tags[n]&&r.tags&&r.tags[n]?"error":void 0,help:c.tags&&c.tags[n]&&r.tags&&r.tags[n]},o.createElement(C.a,Object.assign({suffix:o.createElement(I.a,{type:"minus",onClick:function(){return e.remove(n)}})},a,{size:"large",type:"text",className:"todo-input"})))}})})),o.createElement(Z.a,{className:"todo__item__button--small",onClick:function(){return e.push("")}},a("addTag")))}}),o.createElement(Z.a,{style:{width:"100%"},htmlType:"submit",disabled:(t=r,Object.keys(t).length>0),size:"large"},a("addToDo")))}})}),se=(n(524),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"todo-page"},o.createElement(V,null),o.createElement(X,null),o.createElement(ie,null))}}]),t}(o.Component)),ue=n(534),le=(n(525),Object(E.b)(function(e){return{todos:e.todos.todos}})(function(e){var t=e.todos;return Object(o.useEffect)(function(){var e=function(){return window.localStorage.setItem("todos",JSON.stringify(t))};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),c.a.createElement(ue.a,null,c.a.createElement(ue.a.Content,{style:{padding:"50px 0",minHeight:"calc(100vh - 69px)",background:"#fff"}},c.a.createElement(se,null)),c.a.createElement(ue.a.Footer,{style:{textAlign:"center"}},"ToDo App \xa92019 Created by Max Chykalo"))})),de=n(60),me=n(275),fe=n(189),Ee={todos:JSON.parse(localStorage.getItem("todos")||"[]"),filters:Object.values(r).filter(function(e){return"number"===typeof e}),activeFilter:r.All,searchTerm:""},pe=Object(de.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_TODO:return Object(p.a)({},e,{todos:[].concat(Object(fe.a)(e.todos),[Object(p.a)({},t.payload)])});case a.DELETE_TODO:return Object(p.a)({},e,{todos:e.todos.filter(function(e){return e.id!==t.payload})});case a.UPDATE_TODO:var n=e.todos.map(function(e){return e.id===t.payload.id?Object(p.a)({},e,t.payload):e});return Object(p.a)({},e,{todos:n});case a.CHANGE_ACTIVE_FILTER:return Object(p.a)({},e,{activeFilter:t.payload});case a.UPDATE_SEARCH_TERM:return Object(p.a)({},e,{searchTerm:t.payload});case a.SORT_TODOS:return Object(p.a)({},e,{todos:Object(fe.a)(e.todos).sort(function(e,n){return e[t.payload]>n[t.payload]?1:-1})});case a.TIME_TILL_END_TICK:return Object(p.a)({},e,{todos:e.todos.map(ne)});default:return e}}}),Te=n(274),ge=n(55),Oe=n.n(ge),_e=n(94),be=Oe.a.mark(xe),ye=Oe.a.mark(he),ve=Oe.a.mark(je),Ae=Oe.a.mark(De);function xe(e){return Oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_e.d)(g(e.payload));case 2:case"end":return t.stop()}},be)}function he(){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.b)(500,a.SEARCH_TERM_CHANGED,xe);case 2:case"end":return e.stop()}},ye)}function je(){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(_e.c)(te);case 3:return e.next=5,Object(_e.d)(O());case 5:e.next=0;break;case 7:case"end":return e.stop()}},ve)}function De(){return Oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.a)([he(),je()]);case 2:case"end":return e.stop()}},Ae)}var Ce=Object(me.a)(),Ie=Object(de.createStore)(pe,Object(Te.composeWithDevTools)(Object(de.applyMiddleware)(Ce)));Ce.run(De);G.a.use(N.a).init({resources:{en:{translation:{sortBy:"Sort By",date:"Date",text:"Text",estimatedTime:"Estimated Time",addTag:"Add Tag",addToDo:"Add ToDo",selectTime:"Chose Time",todo:{text:"Text",status:"Status",createdAt:"Created At",tags:"Tags",estimatedTime:"Estimated Time",left:"Left",actions:"Actions",statuses:{All:"All",Active:"Active",Completed:"Completed","In Progress":"In Progress",Paused:"In Pause"}}}},ua:{translation:{sortBy:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e",date:"\u0414\u0430\u0442\u0456",text:"\u0422\u0435\u043a\u0441\u0442\u0443",estimatedTime:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0443",addTag:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0435\u0433",addToDo:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",selectTime:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0447\u0430\u0441",todo:{text:"\u0422\u0435\u043a\u0441\u0442",status:"\u0421\u0442\u0430\u0442\u0443\u0441",createdAt:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0432",tags:"\u0422\u0435\u0433\u0438",estimatedTime:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",left:"\u0417\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c",actions:"\u0414\u0456\u0457",statuses:{All:"\u0412\u0441\u0456",Active:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456",Completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0456","In Progress":"\u0412 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0456",Paused:"\u041d\u0430 \u043f\u0430\u0443\u0437\u0456"}}}}},lng:"ua",keySeparator:!1,interpolation:{escapeValue:!1}});G.a;s.a.render(c.a.createElement(E.a,{store:Ie},c.a.createElement(le,null)),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.aaa15d68.chunk.js.map