(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){e.exports=n(494)},315:function(e,t,n){},490:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var a,r,o=n(1),c=n.n(o),i=n(8),u=n.n(i),l=n(235),s=n(236),d=n(258),m=n(237),f=n(257),E=n(27),p=n(40),_=n(171);!function(e){e.ADD_TODO="ADD_TODO",e.UPDATE_TODO="UPDATE_TODO",e.DELETE_TODO="DELETE_TODO",e.CHANGE_ACTIVE_FILTER="CHANGE_ACTIVE_FILTER",e.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",e.SEARCH_TERM_CHANGED="SEARCH_TERM_CHANGED"}(a||(a={})),function(e){e[e.All=0]="All",e[e.Active=1]="Active",e[e.Completed=2]="Completed",e[e["In Progress"]=3]="In Progress",e[e.Paused=4]="Paused"}(r||(r={}));var g={todos:JSON.parse(localStorage.getItem("todos")||"[]"),filters:Object.values(r).filter(function(e){return"number"===typeof e}),activeFilter:r.All,searchTerm:""},T=function(e){return{type:a.CHANGE_ACTIVE_FILTER,payload:e}},O=function(e){return{type:a.UPDATE_SEARCH_TERM,payload:e}},b=n(165),v=n(24),y=n.n(v),A=function(e){return e.todos.activeFilter},h=function(e){return e.todos.filters},x=Object(b.a)(function(e){return e.todos.todos},A,function(e,t){return e.filter(function(e){return!!e.status&&(e.status===t||t===r.All)})}),D=function(e){return y()(e).format("HH:mm:ss")},C=Object(b.a)(x,function(e){return e.todos.searchTerm},function(e,t){return t.length?e.filter(function(e){return e.text.toLowerCase().match(t.toLowerCase())}):e}),j=n(497),w=n(11),k=n(88),I=n(89),N=n(124);function H(){var e=Object(k.a)(["\n  display: flex !important;\n  width: 100%;\n  @media screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n"]);return H=function(){return e},e}function R(){var e=Object(k.a)(["\n  flex: 1;\n  text-align: center;\n"]);return R=function(){return e},e}var S=Object(I.a)(N.a.Button)(R()),F=Object(I.a)(N.a.Group)(H()),P={changeActiveFilter:T},L=Object(E.b)(function(e){return{activeFilter:A(e),filters:h(e)}},P)(function(e){var t=e.activeFilter,n=e.filters,a=e.changeActiveFilter,c=n.map(function(e){return o.createElement(S,{key:e,value:e},r[e])});return o.createElement(F,{size:"large",value:t,onChange:function(e){return a(e.target.value)},buttonStyle:"solid"},c)}),M={changeActiveFilter:T,updateSearchTerm:O,searchTermChange:function(e){return{type:a.SEARCH_TERM_CHANGED,payload:e}}},G=Object(E.b)(function(e){return{activeFilter:A(e),filters:h(e)}},M)(function(e){var t=e.searchTermChange;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{className:"my-3",onChange:function(e){return t(e.target.value)},prefix:c.a.createElement(w.a,{type:"search"}),size:"large",type:"text"}),c.a.createElement(L,null))}),U=n(500),z=n(496),V=(n(315),{deleteTodo:function(e){return{type:a.DELETE_TODO,payload:e}},updateTodo:function(e){return{type:a.UPDATE_TODO,payload:e}}}),J=Object(E.b)(function(e){return{todos:C(e)}},V)(function(e){var t=e.todos,n=e.deleteTodo,a=e.updateTodo;o.useEffect(function(){var e=function(e){return e.status===r["In Progress"]},n=setInterval(function(){return t.filter(e).map(function(e){e.timeTillEnd&&a({id:e.id,timeTillEnd:e.timeTillEnd-1e3<0?0:e.timeTillEnd-1e3})})},1e3);return function(){return clearInterval(n)}});var c=[{title:"text",dataIndex:"text",key:"text",render:function(e){return o.createElement("span",{className:"todo__item__text"},e)}},{title:"status",dataIndex:"status",key:"status",render:function(e){return o.createElement("span",{className:"todo__item__status"},r[e])}},{title:"createdAt",dataIndex:"createdAt",key:"createdAt",render:function(e){return o.createElement("span",null,new Date(e).toLocaleDateString())}},{title:"Tags",dataIndex:"tags",key:"tags",render:function(e){return o.createElement("span",null,e&&e.map(function(e){return o.createElement(U.a,{color:"blue",key:e},"#",e)}))}},{title:"Estimated Time",dataIndex:"estimatedTime",key:"estimatedTime",render:function(e){return o.createElement("span",null,e&&D(e))}},{title:"Left",dataIndex:"timeTillEnd",key:"timeTillEnd",render:function(e){return o.createElement("span",null,e&&D(e))}},{title:"Actions",key:"actions",render:function(e){return o.createElement("span",{className:"todo__item__icons"},o.createElement(w.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r["In Progress"]?r.Paused:r["In Progress"]})},type:e.status===r["In Progress"]?"pause":"caret-right"}),o.createElement(w.a,{className:"todo__item__icon todo__item__icon--toggle",onClick:function(){return a({id:e.id,status:e.status===r.Completed?r.Active:r.Completed})},type:e.status===r.Completed?"close-circle":"check-circle"}),o.createElement(w.a,{className:"todo__item__icon todo__item__icon--delete",onClick:function(){return n(e.id)},type:"delete"}))}}];return o.createElement(z.a,{rowClassName:function(e){return e.status===r.Completed?"todo__item--completed":""},columns:c,dataSource:t,pagination:!1})}),B=n(498),q=n(47),W=n(74),K=n(75),Q=n(169),X=n.n(Q);function Y(){var e=Object(k.a)(["\n  display: flex !important;\n  margin: 0 -10px !important;\n  flex-wrap: wrap;\n  width: calc(100% + 20px) !important;\n"]);return Y=function(){return e},e}var Z=Object(I.a)(j.a.Group)(Y()),$=W.object().shape({text:W.string().required(),tags:W.array(W.string().min(3)),estimatedTime:W.number().min(0)}),ee=Object(E.b)(function(){return{}},{addTodo:function(e){return{type:a.ADD_TODO,payload:Object(p.a)({id:Math.random(),createdAt:new Date(Date.now()),status:r.Active,timeTillEnd:e.estimatedTime},e)}}})(function(e){var t=e.addTodo;return o.createElement(K.d,{initialValues:{text:"",tags:[],estimatedTime:0},validationSchema:$,onSubmit:function(e,n){var a=n.resetForm;t(e),a()},render:function(e){var t=e.values,n=e.errors,a=(e.status,e.touched);return o.createElement(K.c,{className:"my-3"},o.createElement(B.a,{className:"my-2",onChange:function(e){t.estimatedTime=e.toDate().getTime()},defaultOpenValue:y()("00:00:00","HH:mm:ss"),size:"large"}),o.createElement(K.a,{type:"text",name:"text",render:function(e){var t=e.field;return o.createElement(X.a,{validateStatus:a.text&&n.text?"error":void 0,help:a.text&&n.text},o.createElement(j.a,Object.assign({},t,{prefix:o.createElement(w.a,{type:"plus"}),size:"large",type:"text"})))}}),o.createElement(K.b,{name:"tags",render:function(e){return o.createElement(o.Fragment,null,o.createElement(Z,null,t.tags.length>0&&t.tags.map(function(t,r){return o.createElement(K.a,{key:r,name:"tags.".concat(r),render:function(t){var c=t.field;return o.createElement(X.a,{style:{width:"20%",padding:"10px"},validateStatus:a.tags&&a.tags[r]&&n.tags&&n.tags[r]?"error":void 0,help:a.tags&&a.tags[r]&&n.tags&&n.tags[r]},o.createElement(j.a,Object.assign({suffix:o.createElement(w.a,{type:"minus",onClick:function(){return e.remove(r)}})},c,{size:"large",type:"text",className:"todo-input"})))}})})),o.createElement(q.a,{className:"todo__item__button--small",onClick:function(){return e.push("")}},"Add a tag"))}}),o.createElement(q.a,{style:{width:"100%"},htmlType:"submit",disabled:!!Object.keys(n).length,size:"large"},"Add ToDo"))}})}),te=(n(490),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"todo-page"},o.createElement(G,null),o.createElement(J,null),o.createElement(ee,null))}}]),t}(o.Component)),ne=n(499),ae=(n(491),Object(E.b)(function(e){return{todos:e.todos.todos}})(function(e){var t=e.todos;return Object(o.useEffect)(function(){var e=function(){return window.localStorage.setItem("todos",JSON.stringify(t))};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),c.a.createElement(ne.a,null,c.a.createElement(ne.a.Content,{style:{padding:"50px 0",minHeight:"calc(100vh - 69px)",background:"#fff"}},c.a.createElement(te,null)),c.a.createElement(ne.a.Footer,{style:{textAlign:"center"}},"ToDo App \xa92019 Created by Max Chykalo"))})),re=n(45),oe=n(256),ce=Object(re.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_TODO:return Object(p.a)({},e,{todos:[].concat(Object(_.a)(e.todos),[Object(p.a)({},t.payload)])});case a.DELETE_TODO:return Object(p.a)({},e,{todos:e.todos.filter(function(e){return e.id!==t.payload})});case a.UPDATE_TODO:var n=e.todos.map(function(e){return e.id===t.payload.id&&(e=Object(p.a)({},e,t.payload)),e});return Object(p.a)({},e,{todos:Object(_.a)(n)});case a.CHANGE_ACTIVE_FILTER:return Object(p.a)({},e,{activeFilter:t.payload});case a.UPDATE_SEARCH_TERM:return Object(p.a)({},e,{searchTerm:t.payload});default:return e}}}),ie=n(255),ue=n(59),le=n.n(ue),se=n(128),de=le.a.mark(Ee),me=le.a.mark(pe),fe=le.a.mark(_e);function Ee(e){return le.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(se.c)(O(e.payload));case 2:case"end":return t.stop()}},de)}function pe(){return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.b)(500,a.SEARCH_TERM_CHANGED,Ee);case 2:case"end":return e.stop()}},me)}function _e(){return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([pe()]);case 2:case"end":return e.stop()}},fe)}var ge=Object(oe.a)(),Te=Object(re.createStore)(ce,Object(ie.composeWithDevTools)(Object(re.applyMiddleware)(ge)));ge.run(_e);u.a.render(c.a.createElement(E.a,{store:Te},c.a.createElement(ae,null)),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.20ab7d6d.chunk.js.map